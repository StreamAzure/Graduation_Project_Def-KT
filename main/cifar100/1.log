2023-04-22 09:56:32,152 [MainThread] [INFO ]  Configurations: {'task_id': '', 'data': {'root': '../data/', 'dataset': 'cifar100', 'split_type': 'class', 'min_size': 10, 'data_amount': 0.05, 'iid_fraction': 0.1, 'user': False, 'train_test_split': 0.8, 'class_per_client': 8, 'num_of_clients': 10, 'alpha': 0.2, 'weights': None}, 'model': 'simple_cnn', 'test_mode': 'test_in_client', 'test_method': 'average', 'server': {'track': False, 'rounds': 1000, 'clients_per_round': 2, 'test_every': 1, 'save_model_every': 10, 'save_model_path': '', 'batch_size': 64, 'test_all': True, 'random_selection': True, 'aggregation_stragtegy': 'FedAvg', 'aggregation_content': 'all'}, 'client': {'track': False, 'batch_size': 200, 'test_batch_size': 5, 'local_epoch': 20, 'optimizer': {'type': 'SGD', 'lr': 0.01, 'momentum': 0.5, 'weight_decay': 0.0005, 'nesterov': True}, 'seed': 0, 'local_test': True}, 'gpu': 1, 'distributed': {'backend': 'nccl', 'init_method': '', 'world_size': 0, 'rank': 0, 'local_rank': 0}, 'tracking': {'database': '', 'log_file': '', 'log_level': 'INFO', 'metric_file': '', 'save_every': 1}, 'resource_heterogeneous': {'simulate': False, 'hetero_type': 'real', 'level': 3, 'sleep_group_num': 1000, 'total_time': 1000, 'fraction': 1, 'grouping_strategy': 'greedy', 'initial_default_time': 5, 'default_time_momentum': 0.2}, 'seed': 0, 'is_distributed': False, 'device': 0}
2023-04-22 09:56:32,237 [MainThread] [INFO ]  Total training data amount: 40000
2023-04-22 09:56:32,237 [MainThread] [INFO ]  Total testing data amount: 8000
local_batch_size: 64, DML_batch_size: 16, local_epoch: 5, DML_epoch: 15, alpha: 1, beta: 1, DML_lr: 0.015
local_batch_size: 64, DML_batch_size: 16, local_epoch: 5, DML_epoch: 15, alpha: 1, beta: 1, DML_lr: 0.015
local_batch_size: 64, DML_batch_size: 16, local_epoch: 5, DML_epoch: 15, alpha: 1, beta: 1, DML_lr: 0.015
local_batch_size: 64, DML_batch_size: 16, local_epoch: 5, DML_epoch: 15, alpha: 1, beta: 1, DML_lr: 0.015
local_batch_size: 64, DML_batch_size: 16, local_epoch: 5, DML_epoch: 15, alpha: 1, beta: 1, DML_lr: 0.015
local_batch_size: 64, DML_batch_size: 16, local_epoch: 5, DML_epoch: 15, alpha: 1, beta: 1, DML_lr: 0.015
local_batch_size: 64, DML_batch_size: 16, local_epoch: 5, DML_epoch: 15, alpha: 1, beta: 1, DML_lr: 0.015
local_batch_size: 64, DML_batch_size: 16, local_epoch: 5, DML_epoch: 15, alpha: 1, beta: 1, DML_lr: 0.015
local_batch_size: 64, DML_batch_size: 16, local_epoch: 5, DML_epoch: 15, alpha: 1, beta: 1, DML_lr: 0.015
local_batch_size: 64, DML_batch_size: 16, local_epoch: 5, DML_epoch: 15, alpha: 1, beta: 1, DML_lr: 0.015
2023-04-22 09:56:32,257 [MainThread] [INFO ]  Clients in total: 10
2023-04-22 09:56:32,278 [MainThread] [INFO ]  
-------- round 0 --------
2023-04-22 09:56:32,279 [MainThread] [INFO ]  --- start training ---
client: f0000002
--- local_update_loss : 2.02
client: f0000008
--- local_update_loss : 2.05
--- DML_update_loss(A model) with Client:f0000004: 1.63
--- DML_update_loss(A model) with Client:f0000000: 1.52
----------- acc -----------
[60.625, 0.0, 37.125, 0.0, 61.5, 2.25, 0.0, 0.0, 39.625, 0.0]
--------- test avarage ---------
--- All clients' test loss: 3.32
--- All clients' test acc: 20.11%
2023-04-22 09:58:35,686 [MainThread] [INFO ]  Server train time: 123.40700888633728
2023-04-22 09:58:35,687 [MainThread] [INFO ]  
-------- round 1 --------
2023-04-22 09:58:35,687 [MainThread] [INFO ]  --- start training ---
client: f0000002
--- local_update_loss : 1.48
client: f0000009
--- local_update_loss : 2.10
--- DML_update_loss(A model) with Client:f0000006: nan
--- DML_update_loss(A model) with Client:f0000007: 1.20
----------- acc -----------
[60.625, 0.0, 56.875, 0.0, 61.5, 2.25, 0.0, 76.75, 39.625, 31.5]
--------- test avarage ---------
--- All clients' test loss: nan
--- All clients' test acc: 32.91%
2023-04-22 10:00:37,924 [MainThread] [INFO ]  Server train time: 122.23667335510254
2023-04-22 10:00:37,925 [MainThread] [INFO ]  
-------- round 2 --------
2023-04-22 10:00:37,925 [MainThread] [INFO ]  --- start training ---
client: f0000004
--- local_update_loss : 1.16
client: f0000001
--- local_update_loss : 2.29
--- DML_update_loss(A model) with Client:f0000005: 1.67
--- DML_update_loss(A model) with Client:f0000007: 1.07
----------- acc -----------
[60.625, 24.75, 56.875, 0.0, 64.25, 59.875, 0.0, 81.5, 39.625, 31.5]
--------- test avarage ---------
--- All clients' test loss: nan
--- All clients' test acc: 41.90%
2023-04-22 10:02:38,825 [MainThread] [INFO ]  Server train time: 120.8997540473938
2023-04-22 10:02:38,826 [MainThread] [INFO ]  
-------- round 3 --------
2023-04-22 10:02:38,826 [MainThread] [INFO ]  --- start training ---
client: f0000005
--- local_update_loss : 1.06
client: f0000004
--- local_update_loss : 1.10
--- DML_update_loss(A model) with Client:f0000007: 1.07
--- DML_update_loss(A model) with Client:f0000003: 1.51
----------- acc -----------
[60.625, 24.75, 56.875, 65.875, 66.125, 64.875, 0.0, 82.125, 39.625, 31.5]
--------- test avarage ---------
--- All clients' test loss: nan
--- All clients' test acc: 49.24%
2023-04-22 10:04:40,060 [MainThread] [INFO ]  Server train time: 121.2338216304779
2023-04-22 10:04:40,061 [MainThread] [INFO ]  
-------- round 4 --------
2023-04-22 10:04:40,061 [MainThread] [INFO ]  --- start training ---
client: f0000003
--- local_update_loss : 0.96
client: f0000008
--- local_update_loss : 1.43
--- DML_update_loss(A model) with Client:f0000009: 1.52
--- DML_update_loss(A model) with Client:f0000007: 1.07
----------- acc -----------
[60.625, 24.75, 56.875, 70.75, 66.125, 64.875, 0.0, 82.375, 53.625, 55.75]
--------- test avarage ---------
--- All clients' test loss: nan
--- All clients' test acc: 53.58%
2023-04-22 10:06:41,428 [MainThread] [INFO ]  Server train time: 121.36660671234131
2023-04-22 10:06:41,429 [MainThread] [INFO ]  
-------- round 5 --------
2023-04-22 10:06:41,429 [MainThread] [INFO ]  --- start training ---
client: f0000009
--- local_update_loss : 1.09
client: f0000005
--- local_update_loss : 1.00
--- DML_update_loss(A model) with Client:f0000001: 1.62
--- DML_update_loss(A model) with Client:f0000000: 1.39
----------- acc -----------
[70.5, 62.25, 56.875, 70.75, 66.125, 68.25, 0.0, 82.375, 53.625, 65.5]
--------- test avarage ---------
--- All clients' test loss: nan
--- All clients' test acc: 59.62%
2023-04-22 10:08:43,201 [MainThread] [INFO ]  Server train time: 121.77171611785889
2023-04-22 10:08:43,202 [MainThread] [INFO ]  
-------- round 6 --------
2023-04-22 10:08:43,202 [MainThread] [INFO ]  --- start training ---
client: f0000008
--- local_update_loss : 1.26
client: f0000001
--- local_update_loss : 0.99
--- DML_update_loss(A model) with Client:f0000006: nan
--- DML_update_loss(A model) with Client:f0000005: 1.51
----------- acc -----------
[70.5, 72.5, 56.875, 70.75, 66.125, 65.375, 0.0, 82.375, 57.5, 65.5]
--------- test avarage ---------
--- All clients' test loss: nan
--- All clients' test acc: 60.75%
2023-04-22 10:10:46,368 [MainThread] [INFO ]  Server train time: 123.16632390022278
2023-04-22 10:10:46,369 [MainThread] [INFO ]  
-------- round 7 --------
2023-04-22 10:10:46,369 [MainThread] [INFO ]  --- start training ---
client: f0000008
--- local_update_loss : 1.16
client: f0000005
--- local_update_loss : 0.90
--- DML_update_loss(A model) with Client:f0000000: 1.39
--- DML_update_loss(A model) with Client:f0000001: 1.52
----------- acc -----------
[69.875, 68.75, 56.875, 70.75, 66.125, 71.75, 0.0, 82.375, 62.75, 65.5]
--------- test avarage ---------
--- All clients' test loss: nan
--- All clients' test acc: 61.48%
2023-04-22 10:12:50,891 [MainThread] [INFO ]  Server train time: 124.52158546447754
2023-04-22 10:12:50,892 [MainThread] [INFO ]  
-------- round 8 --------
2023-04-22 10:12:50,892 [MainThread] [INFO ]  --- start training ---
client: f0000008
--- local_update_loss : 1.08
client: f0000006
--- local_update_loss : nan
--- DML_update_loss(A model) with Client:f0000003: 1.37
--- DML_update_loss(A model) with Client:f0000007: 1.07
----------- acc -----------
[69.875, 68.75, 56.875, 69.0, 66.125, 71.75, 0.0, 83.25, 60.375, 65.5]
--------- test avarage ---------
--- All clients' test loss: nan
--- All clients' test acc: 61.15%
2023-04-22 10:14:54,449 [MainThread] [INFO ]  Server train time: 123.55632495880127
2023-04-22 10:14:54,449 [MainThread] [INFO ]  
-------- round 9 --------
2023-04-22 10:14:54,449 [MainThread] [INFO ]  --- start training ---
client: f0000008
--- local_update_loss : 1.03
client: f0000004
--- local_update_loss : 1.08
--- DML_update_loss(A model) with Client:f0000001: 1.52
--- DML_update_loss(A model) with Client:f0000006: nan
----------- acc -----------
[69.875, 71.125, 56.875, 69.0, 67.625, 71.75, 0.0, 83.25, 65.5, 65.5]
--------- test avarage ---------
--- All clients' test loss: nan
--- All clients' test acc: 62.05%
2023-04-22 10:16:58,491 [MainThread] [INFO ]  Server train time: 124.04101419448853
2023-04-22 10:16:58,494 [MainThread] [INFO ]  Model saved at /home/dengzhiling/.local/lib/python3.10/site-packages/easyfl/main/cifar100/saved_models/_global_model_r_9.pth
2023-04-22 10:16:58,495 [MainThread] [INFO ]  
-------- round 10 --------
2023-04-22 10:16:58,495 [MainThread] [INFO ]  --- start training ---
client: f0000008
--- local_update_loss : 0.98
client: f0000002
--- local_update_loss : 1.31
--- DML_update_loss(A model) with Client:f0000001: 1.52
--- DML_update_loss(A model) with Client:f0000004: 1.53
----------- acc -----------
[69.875, 71.625, 56.625, 69.0, 64.375, 71.75, 0.0, 83.25, 65.375, 65.5]
--------- test avarage ---------
--- All clients' test loss: nan
--- All clients' test acc: 61.74%
2023-04-22 10:19:02,750 [MainThread] [INFO ]  Server train time: 124.25516510009766
2023-04-22 10:19:02,751 [MainThread] [INFO ]  
-------- round 11 --------
2023-04-22 10:19:02,751 [MainThread] [INFO ]  --- start training ---
client: f0000007
--- local_update_loss : 0.47
client: f0000008
--- local_update_loss : 0.95
--- DML_update_loss(A model) with Client:f0000000: 1.38
--- DML_update_loss(A model) with Client:f0000004: 1.52
----------- acc -----------
[72.375, 71.625, 56.625, 69.0, 65.125, 71.75, 0.0, 85.25, 67.125, 65.5]
--------- test avarage ---------
--- All clients' test loss: nan
--- All clients' test acc: 62.44%
2023-04-22 10:21:06,735 [MainThread] [INFO ]  Server train time: 123.98360300064087
2023-04-22 10:21:06,736 [MainThread] [INFO ]  
-------- round 12 --------
2023-04-22 10:21:06,736 [MainThread] [INFO ]  --- start training ---
client: f0000005
--- local_update_loss : 0.85
client: f0000008
--- local_update_loss : 0.91
--- DML_update_loss(A model) with Client:f0000003: 1.37
--- DML_update_loss(A model) with Client:f0000002: 1.30
----------- acc -----------
[72.375, 71.625, 71.625, 70.625, 65.125, 70.5, 0.0, 85.25, 67.75, 65.5]
--------- test avarage ---------
--- All clients' test loss: nan
--- All clients' test acc: 64.04%
2023-04-22 10:23:10,178 [MainThread] [INFO ]  Server train time: 123.44241523742676
2023-04-22 10:23:10,179 [MainThread] [INFO ]  
-------- round 13 --------
2023-04-22 10:23:10,179 [MainThread] [INFO ]  --- start training ---
client: f0000003
--- local_update_loss : 0.82
client: f0000005
--- local_update_loss : 0.82
--- DML_update_loss(A model) with Client:f0000008: 1.26
--- DML_update_loss(A model) with Client:f0000002: 1.22
----------- acc -----------
[72.375, 71.625, 77.125, 74.25, 65.125, 71.5, 0.0, 85.25, 69.875, 65.5]
--------- test avarage ---------
--- All clients' test loss: nan
--- All clients' test acc: 65.26%
2023-04-22 10:25:14,244 [MainThread] [INFO ]  Server train time: 124.0642237663269
2023-04-22 10:25:14,245 [MainThread] [INFO ]  
-------- round 14 --------
2023-04-22 10:25:14,245 [MainThread] [INFO ]  --- start training ---
client: f0000003
--- local_update_loss : 0.77
client: f0000009
--- local_update_loss : 1.04
--- DML_update_loss(A model) with Client:f0000006: nan
--- DML_update_loss(A model) with Client:f0000007: 1.07
----------- acc -----------
[72.375, 71.625, 77.125, 75.375, 65.125, 71.5, 0.0, 82.375, 69.875, 65.25]
--------- test avarage ---------
--- All clients' test loss: nan
--- All clients' test acc: 65.06%
2023-04-22 10:27:18,644 [MainThread] [INFO ]  Server train time: 124.39880442619324
2023-04-22 10:27:18,644 [MainThread] [INFO ]  
-------- round 15 --------
2023-04-22 10:27:18,645 [MainThread] [INFO ]  --- start training ---
client: f0000002
--- local_update_loss : 0.72
client: f0000006
--- local_update_loss : nan
--- DML_update_loss(A model) with Client:f0000004: 1.52
--- DML_update_loss(A model) with Client:f0000009: 1.46
----------- acc -----------
[72.375, 71.625, 80.5, 75.375, 65.0, 71.5, 0.0, 82.375, 69.875, 63.0]
--------- test avarage ---------
--- All clients' test loss: nan
--- All clients' test acc: 65.16%
2023-04-22 10:29:22,709 [MainThread] [INFO ]  Server train time: 124.0639865398407
2023-04-22 10:29:22,710 [MainThread] [INFO ]  
-------- round 16 --------
2023-04-22 10:29:22,710 [MainThread] [INFO ]  --- start training ---
client: f0000006
--- local_update_loss : nan
client: f0000002
--- local_update_loss : 0.67
--- DML_update_loss(A model) with Client:f0000004: 1.51
--- DML_update_loss(A model) with Client:f0000005: 1.49
----------- acc -----------
[72.375, 71.625, 81.375, 75.375, 67.125, 69.125, 0.0, 82.375, 69.875, 63.0]
--------- test avarage ---------
--- All clients' test loss: nan
--- All clients' test acc: 65.22%
2023-04-22 10:31:27,031 [MainThread] [INFO ]  Server train time: 124.32086324691772
2023-04-22 10:31:27,032 [MainThread] [INFO ]  
-------- round 17 --------
2023-04-22 10:31:27,032 [MainThread] [INFO ]  --- start training ---
client: f0000007
--- local_update_loss : 0.47
client: f0000002
--- local_update_loss : 0.65
--- DML_update_loss(A model) with Client:f0000001: 1.52
--- DML_update_loss(A model) with Client:f0000004: 1.52
----------- acc -----------
[72.375, 70.25, 81.25, 75.375, 64.125, 69.125, 0.0, 85.75, 69.875, 63.0]
--------- test avarage ---------
--- All clients' test loss: nan
--- All clients' test acc: 65.11%
2023-04-22 10:33:31,366 [MainThread] [INFO ]  Server train time: 124.33369970321655
2023-04-22 10:33:31,366 [MainThread] [INFO ]  
-------- round 18 --------
2023-04-22 10:33:31,366 [MainThread] [INFO ]  --- start training ---
client: f0000007
--- local_update_loss : 0.44
client: f0000009
--- local_update_loss : 1.00
--- DML_update_loss(A model) with Client:f0000000: 1.40
--- DML_update_loss(A model) with Client:f0000006: nan
----------- acc -----------
[71.25, 70.25, 81.25, 75.375, 64.125, 69.125, 0.0, 85.25, 69.875, 67.625]
--------- test avarage ---------
--- All clients' test loss: nan
--- All clients' test acc: 65.41%
2023-04-22 10:35:35,289 [MainThread] [INFO ]  Server train time: 123.92221546173096
2023-04-22 10:35:35,290 [MainThread] [INFO ]  
-------- round 19 --------
2023-04-22 10:35:35,290 [MainThread] [INFO ]  --- start training ---
client: f0000001
--- local_update_loss : 0.83
client: f0000007
--- local_update_loss : 0.42
--- DML_update_loss(A model) with Client:f0000004: 1.52
--- DML_update_loss(A model) with Client:f0000008: 1.20
----------- acc -----------
[71.25, 77.5, 81.25, 75.375, 65.25, 69.125, 0.0, 86.125, 72.0, 67.625]
--------- test avarage ---------
--- All clients' test loss: nan
--- All clients' test acc: 66.55%
2023-04-22 10:37:41,590 [MainThread] [INFO ]  Server train time: 126.29942893981934
2023-04-22 10:37:41,593 [MainThread] [INFO ]  Model saved at /home/dengzhiling/.local/lib/python3.10/site-packages/easyfl/main/cifar100/saved_models/_global_model_r_19.pth
2023-04-22 10:37:41,593 [MainThread] [INFO ]  
-------- round 20 --------
2023-04-22 10:37:41,593 [MainThread] [INFO ]  --- start training ---
client: f0000007
--- local_update_loss : 0.40
client: f0000001
--- local_update_loss : 0.78
--- DML_update_loss(A model) with Client:f0000006: nan
--- DML_update_loss(A model) with Client:f0000004: 1.52
----------- acc -----------
[71.25, 78.625, 81.25, 75.375, 66.375, 69.125, 0.0, 86.875, 72.0, 67.625]
--------- test avarage ---------
--- All clients' test loss: nan
--- All clients' test acc: 66.85%
2023-04-22 10:39:47,177 [MainThread] [INFO ]  Server train time: 125.58332443237305
2023-04-22 10:39:47,178 [MainThread] [INFO ]  
-------- round 21 --------
2023-04-22 10:39:47,178 [MainThread] [INFO ]  --- start training ---
client: f0000001
--- local_update_loss : 0.75
client: f0000002
--- local_update_loss : 0.63
--- DML_update_loss(A model) with Client:f0000007: 1.09
--- DML_update_loss(A model) with Client:f0000006: nan
----------- acc -----------
[71.25, 79.5, 80.75, 75.375, 66.375, 69.125, 0.0, 82.625, 72.0, 67.625]
--------- test avarage ---------
--- All clients' test loss: nan
--- All clients' test acc: 66.46%
2023-04-22 10:41:52,420 [MainThread] [INFO ]  Server train time: 125.24152994155884
2023-04-22 10:41:52,420 [MainThread] [INFO ]  
-------- round 22 --------
2023-04-22 10:41:52,420 [MainThread] [INFO ]  --- start training ---
client: f0000002
--- local_update_loss : 0.61
client: f0000001
--- local_update_loss : 0.74
--- DML_update_loss(A model) with Client:f0000007: 1.07
--- DML_update_loss(A model) with Client:f0000006: nan
----------- acc -----------
[71.25, 78.75, 78.75, 75.375, 66.375, 69.125, 0.0, 79.875, 72.0, 67.625]
--------- test avarage ---------
--- All clients' test loss: nan
--- All clients' test acc: 65.91%
2023-04-22 10:43:56,576 [MainThread] [INFO ]  Server train time: 124.15551424026489
2023-04-22 10:43:56,577 [MainThread] [INFO ]  
-------- round 23 --------
2023-04-22 10:43:56,577 [MainThread] [INFO ]  --- start training ---
client: f0000005
--- local_update_loss : 0.86
client: f0000008
--- local_update_loss : 0.73
--- DML_update_loss(A model) with Client:f0000002: 1.25
--- DML_update_loss(A model) with Client:f0000009: 1.45
----------- acc -----------
[71.25, 78.75, 75.125, 75.375, 66.375, 70.375, 0.0, 79.875, 76.625, 66.625]
--------- test avarage ---------
--- All clients' test loss: nan
--- All clients' test acc: 66.04%
2023-04-22 10:46:00,719 [MainThread] [INFO ]  Server train time: 124.14125370979309
2023-04-22 10:46:00,719 [MainThread] [INFO ]  
-------- round 24 --------
2023-04-22 10:46:00,719 [MainThread] [INFO ]  --- start training ---
client: f0000009
--- local_update_loss : 0.97
client: f0000004
--- local_update_loss : 1.00
--- DML_update_loss(A model) with Client:f0000006: nan
--- DML_update_loss(A model) with Client:f0000008: 1.21
----------- acc -----------
[71.25, 78.75, 75.125, 75.375, 69.5, 70.375, 0.0, 79.875, 73.5, 68.875]
--------- test avarage ---------
--- All clients' test loss: nan
--- All clients' test acc: 66.26%
2023-04-22 10:48:04,805 [MainThread] [INFO ]  Server train time: 124.08537077903748
2023-04-22 10:48:04,806 [MainThread] [INFO ]  
-------- round 25 --------
2023-04-22 10:48:04,806 [MainThread] [INFO ]  --- start training ---
client: f0000005
--- local_update_loss : 0.82
client: f0000001
--- local_update_loss : 0.72
--- DML_update_loss(A model) with Client:f0000000: 1.40
--- DML_update_loss(A model) with Client:f0000006: nan
----------- acc -----------
[71.875, 80.0, 75.125, 75.375, 69.5, 72.25, 0.0, 79.875, 73.5, 68.875]
--------- test avarage ---------
--- All clients' test loss: nan
--- All clients' test acc: 66.64%
2023-04-22 10:50:08,224 [MainThread] [INFO ]  Server train time: 123.4175636768341
2023-04-22 10:50:08,225 [MainThread] [INFO ]  
-------- round 26 --------
2023-04-22 10:50:08,225 [MainThread] [INFO ]  --- start training ---
client: f0000008
--- local_update_loss : 0.71
client: f0000004
--- local_update_loss : 0.96
--- DML_update_loss(A model) with Client:f0000001: 1.54
--- DML_update_loss(A model) with Client:f0000003: 1.38
----------- acc -----------
[71.875, 68.5, 75.125, 70.0, 69.625, 72.25, 0.0, 79.875, 77.125, 68.875]
--------- test avarage ---------
--- All clients' test loss: nan
--- All clients' test acc: 65.33%
2023-04-22 10:52:16,122 [MainThread] [INFO ]  Server train time: 127.89605784416199
2023-04-22 10:52:16,123 [MainThread] [INFO ]  
-------- round 27 --------
2023-04-22 10:52:16,123 [MainThread] [INFO ]  --- start training ---
client: f0000004
--- local_update_loss : 0.93
client: f0000002
--- local_update_loss : 0.69
--- DML_update_loss(A model) with Client:f0000007: 1.07
--- DML_update_loss(A model) with Client:f0000001: 1.52
----------- acc -----------
[71.875, 67.25, 80.0, 70.0, 71.125, 72.25, 0.0, 82.375, 77.125, 68.875]
--------- test avarage ---------
--- All clients' test loss: nan
--- All clients' test acc: 66.09%
2023-04-22 10:54:23,771 [MainThread] [INFO ]  Server train time: 127.64781379699707
2023-04-22 10:54:23,772 [MainThread] [INFO ]  
-------- round 28 --------
2023-04-22 10:54:23,772 [MainThread] [INFO ]  --- start training ---
client: f0000009
--- local_update_loss : 0.93
client: f0000002
--- local_update_loss : 0.64
--- DML_update_loss(A model) with Client:f0000005: 1.51
--- DML_update_loss(A model) with Client:f0000003: 1.37
----------- acc -----------
[71.875, 67.25, 80.625, 68.5, 71.125, 66.25, 0.0, 82.375, 77.125, 68.625]
--------- test avarage ---------
--- All clients' test loss: nan
--- All clients' test acc: 65.38%
2023-04-22 10:56:31,337 [MainThread] [INFO ]  Server train time: 127.5648295879364
2023-04-22 10:56:31,337 [MainThread] [INFO ]  
-------- round 29 --------
2023-04-22 10:56:31,338 [MainThread] [INFO ]  --- start training ---
client: f0000008
--- local_update_loss : 0.67
client: f0000006
--- local_update_loss : nan
--- DML_update_loss(A model) with Client:f0000004: 1.53
--- DML_update_loss(A model) with Client:f0000003: 1.38
----------- acc -----------
[71.875, 67.25, 80.625, 69.0, 64.25, 66.25, 0.0, 82.375, 79.125, 68.625]
--------- test avarage ---------
--- All clients' test loss: nan
--- All clients' test acc: 64.94%
2023-04-22 10:58:38,664 [MainThread] [INFO ]  Server train time: 127.32629346847534
2023-04-22 10:58:38,667 [MainThread] [INFO ]  Model saved at /home/dengzhiling/.local/lib/python3.10/site-packages/easyfl/main/cifar100/saved_models/_global_model_r_29.pth
2023-04-22 10:58:38,668 [MainThread] [INFO ]  
-------- round 30 --------
2023-04-22 10:58:38,668 [MainThread] [INFO ]  --- start training ---
client: f0000000
--- local_update_loss : 0.86
client: f0000001
--- local_update_loss : 0.84
--- DML_update_loss(A model) with Client:f0000008: 1.21
--- DML_update_loss(A model) with Client:f0000002: 1.24
----------- acc -----------
[76.125, 77.5, 75.75, 69.0, 64.25, 66.25, 0.0, 82.375, 71.5, 68.625]
--------- test avarage ---------
--- All clients' test loss: nan
--- All clients' test acc: 65.14%
2023-04-22 11:00:45,249 [MainThread] [INFO ]  Server train time: 126.58055686950684
2023-04-22 11:00:45,249 [MainThread] [INFO ]  
-------- round 31 --------
2023-04-22 11:00:45,249 [MainThread] [INFO ]  --- start training ---
client: f0000004
--- local_update_loss : 0.99
client: f0000001
--- local_update_loss : 0.77
--- DML_update_loss(A model) with Client:f0000005: 1.48
--- DML_update_loss(A model) with Client:f0000008: 1.20
----------- acc -----------
[76.125, 78.125, 75.75, 69.0, 70.25, 66.0, 0.0, 82.375, 76.125, 68.625]
--------- test avarage ---------
--- All clients' test loss: nan
--- All clients' test acc: 66.24%
2023-04-22 11:02:52,944 [MainThread] [INFO ]  Server train time: 127.69448256492615
2023-04-22 11:02:52,945 [MainThread] [INFO ]  
-------- round 32 --------
2023-04-22 11:02:52,945 [MainThread] [INFO ]  --- start training ---
client: f0000009
--- local_update_loss : 0.92
client: f0000001
--- local_update_loss : 0.76
--- DML_update_loss(A model) with Client:f0000003: 1.37
--- DML_update_loss(A model) with Client:f0000006: nan
----------- acc -----------
[76.125, 77.625, 75.75, 70.625, 70.25, 66.0, 0.0, 82.375, 76.125, 69.125]
--------- test avarage ---------
--- All clients' test loss: nan
--- All clients' test acc: 66.40%
2023-04-22 11:04:59,859 [MainThread] [INFO ]  Server train time: 126.91326189041138
2023-04-22 11:04:59,859 [MainThread] [INFO ]  
-------- round 33 --------
2023-04-22 11:04:59,859 [MainThread] [INFO ]  --- start training ---
client: f0000008
--- local_update_loss : 0.70
client: f0000003
--- local_update_loss : 0.82
--- DML_update_loss(A model) with Client:f0000005: 1.48
--- DML_update_loss(A model) with Client:f0000001: 1.54
----------- acc -----------
[76.125, 74.125, 75.75, 74.875, 70.25, 68.375, 0.0, 82.375, 77.125, 69.125]
--------- test avarage ---------
--- All clients' test loss: nan
--- All clients' test acc: 66.81%
2023-04-22 11:07:07,242 [MainThread] [INFO ]  Server train time: 127.38224482536316
2023-04-22 11:07:07,243 [MainThread] [INFO ]  
-------- round 34 --------
2023-04-22 11:07:07,243 [MainThread] [INFO ]  --- start training ---
client: f0000000
--- local_update_loss : 0.82
client: f0000009
--- local_update_loss : 0.90
--- DML_update_loss(A model) with Client:f0000004: 1.54
--- DML_update_loss(A model) with Client:f0000007: 1.07
----------- acc -----------
[74.375, 74.125, 75.75, 74.875, 65.625, 68.375, 0.0, 82.875, 77.125, 71.125]
--------- test avarage ---------
--- All clients' test loss: nan
--- All clients' test acc: 66.42%
2023-04-22 11:09:15,223 [MainThread] [INFO ]  Server train time: 127.97953009605408
2023-04-22 11:09:15,223 [MainThread] [INFO ]  
-------- round 35 --------
2023-04-22 11:09:15,224 [MainThread] [INFO ]  --- start training ---
client: f0000006
--- local_update_loss : nan
client: f0000002
--- local_update_loss : 0.69
--- DML_update_loss(A model) with Client:f0000003: 1.38
--- DML_update_loss(A model) with Client:f0000000: 1.40
----------- acc -----------
[70.75, 74.125, 80.875, 69.875, 65.625, 68.375, 0.0, 82.875, 77.125, 71.125]
--------- test avarage ---------
--- All clients' test loss: nan
--- All clients' test acc: 66.08%
2023-04-22 11:11:22,146 [MainThread] [INFO ]  Server train time: 126.92191863059998
2023-04-22 11:11:22,147 [MainThread] [INFO ]  
-------- round 36 --------
2023-04-22 11:11:22,147 [MainThread] [INFO ]  --- start training ---
client: f0000003
--- local_update_loss : 0.81
client: f0000009
--- local_update_loss : 0.88
--- DML_update_loss(A model) with Client:f0000005: 1.48
--- DML_update_loss(A model) with Client:f0000006: nan
----------- acc -----------
[70.75, 74.125, 80.875, 74.5, 65.625, 67.0, 0.0, 82.875, 77.125, 70.625]
--------- test avarage ---------
--- All clients' test loss: nan
--- All clients' test acc: 66.35%
2023-04-22 11:13:29,326 [MainThread] [INFO ]  Server train time: 127.17912244796753
2023-04-22 11:13:29,327 [MainThread] [INFO ]  
-------- round 37 --------
2023-04-22 11:13:29,327 [MainThread] [INFO ]  --- start training ---
client: f0000004
--- local_update_loss : 1.00
client: f0000009
--- local_update_loss : 0.86
--- DML_update_loss(A model) with Client:f0000005: 1.48
--- DML_update_loss(A model) with Client:f0000007: 1.06
----------- acc -----------
[70.75, 74.125, 80.875, 74.5, 69.875, 67.375, 0.0, 83.125, 77.125, 70.625]
--------- test avarage ---------
--- All clients' test loss: nan
--- All clients' test acc: 66.84%
2023-04-22 11:15:36,792 [MainThread] [INFO ]  Server train time: 127.46480679512024
2023-04-22 11:15:36,793 [MainThread] [INFO ]  
-------- round 38 --------
2023-04-22 11:15:36,793 [MainThread] [INFO ]  --- start training ---
client: f0000008
--- local_update_loss : 0.68
client: f0000000
--- local_update_loss : 0.85
--- DML_update_loss(A model) with Client:f0000009: 1.46
--- DML_update_loss(A model) with Client:f0000003: 1.38
----------- acc -----------
[75.125, 74.125, 80.875, 69.125, 69.875, 67.375, 0.0, 83.125, 79.0, 65.0]
--------- test avarage ---------
--- All clients' test loss: nan
--- All clients' test acc: 66.36%
2023-04-22 11:17:46,702 [MainThread] [INFO ]  Server train time: 129.90799617767334
2023-04-22 11:17:46,702 [MainThread] [INFO ]  
-------- round 39 --------
2023-04-22 11:17:46,702 [MainThread] [INFO ]  --- start training ---
client: f0000002
--- local_update_loss : 0.65
client: f0000001
--- local_update_loss : 0.84
--- DML_update_loss(A model) with Client:f0000005: 1.49
--- DML_update_loss(A model) with Client:f0000000: 1.40
----------- acc -----------
[71.25, 76.625, 80.125, 69.125, 69.875, 69.875, 0.0, 83.125, 79.0, 65.0]
--------- test avarage ---------
--- All clients' test loss: nan
--- All clients' test acc: 66.40%
2023-04-22 11:19:54,056 [MainThread] [INFO ]  Server train time: 127.35330414772034
2023-04-22 11:19:54,060 [MainThread] [INFO ]  Model saved at /home/dengzhiling/.local/lib/python3.10/site-packages/easyfl/main/cifar100/saved_models/_global_model_r_39.pth
2023-04-22 11:19:54,060 [MainThread] [INFO ]  
-------- round 40 --------
2023-04-22 11:19:54,060 [MainThread] [INFO ]  --- start training ---
client: f0000004
--- local_update_loss : 0.96
client: f0000003
--- local_update_loss : 0.81
--- DML_update_loss(A model) with Client:f0000001: 1.53
--- DML_update_loss(A model) with Client:f0000008: 1.21
----------- acc -----------
[71.25, 73.0, 80.125, 75.375, 70.5, 69.875, 0.0, 83.125, 74.25, 65.0]
--------- test avarage ---------
--- All clients' test loss: nan
--- All clients' test acc: 66.25%
2023-04-22 11:22:02,718 [MainThread] [INFO ]  Server train time: 128.65774250030518
2023-04-22 11:22:02,719 [MainThread] [INFO ]  
-------- round 41 --------
2023-04-22 11:22:02,719 [MainThread] [INFO ]  --- start training ---
client: f0000005
--- local_update_loss : 0.85
client: f0000006
--- local_update_loss : nan
--- DML_update_loss(A model) with Client:f0000002: 1.25
--- DML_update_loss(A model) with Client:f0000007: 1.07
----------- acc -----------
[71.25, 73.0, 77.375, 75.375, 70.5, 72.5, 0.0, 80.375, 74.25, 65.0]
--------- test avarage ---------
--- All clients' test loss: nan
--- All clients' test acc: 65.96%
2023-04-22 11:24:09,519 [MainThread] [INFO ]  Server train time: 126.79966259002686
2023-04-22 11:24:09,520 [MainThread] [INFO ]  
-------- round 42 --------
2023-04-22 11:24:09,520 [MainThread] [INFO ]  --- start training ---
client: f0000008
--- local_update_loss : 0.71
client: f0000001
--- local_update_loss : 0.84
--- DML_update_loss(A model) with Client:f0000004: 1.54
--- DML_update_loss(A model) with Client:f0000002: 1.23
----------- acc -----------
[71.25, 77.625, 76.875, 75.375, 67.375, 72.5, 0.0, 80.375, 77.875, 65.0]
--------- test avarage ---------
--- All clients' test loss: nan
--- All clients' test acc: 66.42%
2023-04-22 11:26:16,466 [MainThread] [INFO ]  Server train time: 126.94562196731567
2023-04-22 11:26:16,466 [MainThread] [INFO ]  
-------- round 43 --------
2023-04-22 11:26:16,466 [MainThread] [INFO ]  --- start training ---
client: f0000003
--- local_update_loss : 0.77
client: f0000009
--- local_update_loss : 0.96
--- DML_update_loss(A model) with Client:f0000004: 1.52
--- DML_update_loss(A model) with Client:f0000005: 1.50
----------- acc -----------
[71.25, 77.625, 76.875, 75.75, 68.25, 66.5, 0.0, 80.375, 77.875, 69.375]
--------- test avarage ---------
--- All clients' test loss: nan
--- All clients' test acc: 66.39%
2023-04-22 11:28:23,075 [MainThread] [INFO ]  Server train time: 126.60847163200378
2023-04-22 11:28:23,076 [MainThread] [INFO ]  
-------- round 44 --------
2023-04-22 11:28:23,076 [MainThread] [INFO ]  --- start training ---
client: f0000002
--- local_update_loss : 0.69
client: f0000007
--- local_update_loss : 0.48
--- DML_update_loss(A model) with Client:f0000009: 1.46
--- DML_update_loss(A model) with Client:f0000001: 1.54
----------- acc -----------
[71.25, 70.125, 80.5, 75.75, 68.25, 66.5, 0.0, 84.125, 77.875, 59.625]
--------- test avarage ---------
--- All clients' test loss: nan
--- All clients' test acc: 65.40%
2023-04-22 11:30:30,053 [MainThread] [INFO ]  Server train time: 126.97628211975098
2023-04-22 11:30:30,054 [MainThread] [INFO ]  
-------- round 45 --------
2023-04-22 11:30:30,054 [MainThread] [INFO ]  --- start training ---
client: f0000002
--- local_update_loss : 0.65
client: f0000004
--- local_update_loss : 1.00
--- DML_update_loss(A model) with Client:f0000007: 1.08
--- DML_update_loss(A model) with Client:f0000001: 1.52
----------- acc -----------
[71.25, 70.75, 80.625, 75.75, 69.0, 66.5, 0.0, 81.875, 77.875, 59.625]
--------- test avarage ---------
--- All clients' test loss: nan
--- All clients' test acc: 65.33%
2023-04-22 11:32:37,454 [MainThread] [INFO ]  Server train time: 127.39975881576538
2023-04-22 11:32:37,455 [MainThread] [INFO ]  
-------- round 46 --------
2023-04-22 11:32:37,455 [MainThread] [INFO ]  --- start training ---
client: f0000007
--- local_update_loss : 0.49
client: f0000000
--- local_update_loss : 0.85
--- DML_update_loss(A model) with Client:f0000001: 1.52
--- DML_update_loss(A model) with Client:f0000005: 1.49
----------- acc -----------
[73.75, 70.25, 80.625, 75.75, 69.0, 54.125, 0.0, 85.25, 77.875, 59.625]
--------- test avarage ---------
--- All clients' test loss: nan
--- All clients' test acc: 64.62%
2023-04-22 11:34:45,045 [MainThread] [INFO ]  Server train time: 127.58964920043945
2023-04-22 11:34:45,046 [MainThread] [INFO ]  
-------- round 47 --------
2023-04-22 11:34:45,046 [MainThread] [INFO ]  --- start training ---
client: f0000002
--- local_update_loss : 0.63
client: f0000001
--- local_update_loss : 0.84
--- DML_update_loss(A model) with Client:f0000008: 1.21
--- DML_update_loss(A model) with Client:f0000006: nan
----------- acc -----------
[73.75, 76.625, 81.375, 75.75, 69.0, 54.125, 0.0, 85.25, 73.375, 59.625]
--------- test avarage ---------
--- All clients' test loss: nan
--- All clients' test acc: 64.89%
2023-04-22 11:36:51,571 [MainThread] [INFO ]  Server train time: 126.52455425262451
2023-04-22 11:36:51,571 [MainThread] [INFO ]  
-------- round 48 --------
2023-04-22 11:36:51,571 [MainThread] [INFO ]  --- start training ---
client: f0000007
--- local_update_loss : 0.44
client: f0000005
--- local_update_loss : 0.92
--- DML_update_loss(A model) with Client:f0000004: 1.53
--- DML_update_loss(A model) with Client:f0000009: 1.44
----------- acc -----------
[73.75, 76.625, 81.375, 75.75, 66.125, 72.5, 0.0, 85.625, 73.375, 65.75]
--------- test avarage ---------
--- All clients' test loss: nan
--- All clients' test acc: 67.09%
2023-04-22 11:38:58,892 [MainThread] [INFO ]  Server train time: 127.31979942321777
2023-04-22 11:38:58,892 [MainThread] [INFO ]  
-------- round 49 --------
2023-04-22 11:38:58,892 [MainThread] [INFO ]  --- start training ---
client: f0000009
--- local_update_loss : 0.97
client: f0000000
--- local_update_loss : 0.81
--- DML_update_loss(A model) with Client:f0000006: nan
--- DML_update_loss(A model) with Client:f0000001: 1.53
----------- acc -----------
[75.375, 72.875, 81.375, 75.75, 66.125, 72.5, 0.0, 85.625, 73.375, 69.375]
--------- test avarage ---------
--- All clients' test loss: nan
--- All clients' test acc: 67.24%
2023-04-22 11:41:08,311 [MainThread] [INFO ]  Server train time: 129.41850543022156
2023-04-22 11:41:08,315 [MainThread] [INFO ]  Model saved at /home/dengzhiling/.local/lib/python3.10/site-packages/easyfl/main/cifar100/saved_models/_global_model_r_49.pth
2023-04-22 11:41:08,315 [MainThread] [INFO ]  
-------- round 50 --------
2023-04-22 11:41:08,315 [MainThread] [INFO ]  --- start training ---
client: f0000007
--- local_update_loss : 0.43
client: f0000008
--- local_update_loss : 0.71
Traceback (most recent call last):
  File "/home/dengzhiling/.local/lib/python3.10/site-packages/easyfl/main/cifar100/main.py", line 19, in <module>
    easyfl.run()
  File "/home/dengzhiling/.local/lib/python3.10/site-packages/easyfl/coordinator.py", line 390, in run
    _global_coord.run()
  File "/home/dengzhiling/.local/lib/python3.10/site-packages/easyfl/coordinator.py", line 80, in run
    self.server.start(self.model, self.clients)
  File "/home/dengzhiling/.local/lib/python3.10/site-packages/easyfl/server/base.py", line 164, in start
    self.train()
  File "/home/dengzhiling/.local/lib/python3.10/site-packages/easyfl/server/base.py", line 200, in train
    self.distribution_to_train()
  File "/home/dengzhiling/.local/lib/python3.10/site-packages/easyfl/server/base.py", line 347, in distribution_to_train
    self.distribution_to_train_locally()
  File "/home/dengzhiling/.local/lib/python3.10/site-packages/easyfl/main/cifar100/CustomizeServer.py", line 91, in distribution_to_train_locally
    client.run_train(model, self.conf.client, train_local_only=False)
  File "/home/dengzhiling/.local/lib/python3.10/site-packages/easyfl/main/cifar100/CustomizedClient.py", line 154, in run_train
    self.train(conf, self.device, train_local_only) # 只修改了这里
  File "/home/dengzhiling/.local/lib/python3.10/site-packages/easyfl/main/cifar100/CustomizedClient.py", line 142, in train
    self.train_DML(conf, device)
  File "/home/dengzhiling/.local/lib/python3.10/site-packages/easyfl/main/cifar100/CustomizedClient.py", line 85, in train_DML
    for data, label in train_loader:
  File "/home/dengzhiling/.local/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 628, in __next__
    data = self._next_data()
  File "/home/dengzhiling/.local/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 671, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/home/dengzhiling/.local/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 58, in fetch
    data = [self.dataset[idx] for idx in possibly_batched_index]
  File "/home/dengzhiling/.local/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 58, in <listcomp>
    data = [self.dataset[idx] for idx in possibly_batched_index]
  File "/home/dengzhiling/.local/lib/python3.10/site-packages/easyfl/datasets/dataset_util.py", line 41, in __getitem__
    sample = self.transform_x(sample)
  File "/home/dengzhiling/.local/lib/python3.10/site-packages/torchvision/transforms/transforms.py", line 95, in __call__
    img = t(img)
  File "/home/dengzhiling/.local/lib/python3.10/site-packages/torchvision/transforms/transforms.py", line 227, in __call__
    return F.to_pil_image(pic, self.mode)
  File "/home/dengzhiling/.local/lib/python3.10/site-packages/torchvision/transforms/functional.py", line 255, in to_pil_image
    if not torch.jit.is_scripting() and not torch.jit.is_tracing():
  File "/home/dengzhiling/.local/lib/python3.10/site-packages/torch/_jit_internal.py", line 1082, in is_scripting
    def is_scripting() -> bool:
KeyboardInterrupt
